function ProgressBar(n,t){var i=ProgressBar.OPTION_NAME,r=ProgressBar.OPTION_VALUE,e=ProgressBar.DEFAULT_VALUE,h=ProgressBar.EVENT,d=n,f=document.getElementById(d),u=[],s=[],v="",y="",p="",w="",c=100,l=1,b={},o=this,g=function(){t=t||{};n&&(o.setWidth(t.width||e.WIDTH),o.setHeight(t.height||e.HEIGHT),f.innerHTML="",f.setAttribute("class","progressbar-control"))},k=function(){if(u.length==1){var n=k,t=u[0],r=o.getOptionValue(i.SPACE),f=r==0?100-o.getOptionValue(i.PERCENT):0;o.setOptionValue(i.SPACE,f,t[i.ITEM_ID]);_initialModeTimer=setTimeout(function(){n()},700)}},a=function(n){var r,t,f;if(n&&n==p)return w;if(r=0,u.length!=1)if(u.length==0)o.createItem({itemID:n});else if(u.length>1){if(!n)return 0;for(t=0,f=u.length;t<f;t++)if(u[t][i.ITEM_ID]==n)return p=n,w=t,t}return r},nt=function(n,t){var e,a;if(n<0)return 0;var c=u[t],l=0,s=0;switch(c[i.POSITION]){case r.POSITION.RELATIVE:for(e=0,a=u.length;e<a;e++)e!=t&&u[e][i.POSITION]==r.POSITION.RELATIVE&&(l+=u[e][i.PERCENT]);s=100-l;n>=s&&setTimeout(function(){f.dispatchEvent(new CustomEvent(h.COMPLETED,{detail:{itemID:c.itemID,me:o}}))},500);break;case r.POSITION.ABSOLUTE:s=100-c[i.SPACE]}return n<=s?n:s};this.getElement=function(){return f};this.getWidth=function(){return v};this.setWidth=function(n){return v=f.style.width=n,!0};this.getHeight=function(){return y};this.setHeight=function(n){return y=f.style.height=n,!0};this.createItem=function(n){var o,t;if(typeof n=="string"&&(t=n,n={},n[i.ITEM_ID]=t),n=n||{},o=f.appendChild(document.createElement("div")),t=n[i.ITEM_ID]=n[i.ITEM_ID]||"",u.length>0&&t=="")return!1;n[i.TYPE]=n[i.TYPE]||e.TYPE;n[i.PERCENT]=n[i.PERCENT]||e.PERCENT;n[i.ALIGN]=n[i.ALIGN]||e.ALIGN;n[i.SPACE]?n[i.POSITION]=r.POSITION.ABSOLUTE:(n[i.SPACE]=e.SPACE,n[i.POSITION]=n[i.POSITION]||r.POSITION.RELATIVE);switch(n[i.TYPE]){case r.TYPE.BAR:n[i.COLOR_ID]=n[i.COLOR_ID]||e.COLOR_ID;n[i.OPACITY]=n[i.OPACITY]||e.OPACITY;break;case r.TYPE.LINE:n[i.COLOR_ID]=n[i.COLOR_ID]||e.LINE_COLOR_ID;n[i.OPACITY]=n[i.OPACITY]||e.LINE_OPACITY;n[i.POSITION]=r.POSITION.ABSOLUTE;n[i.SPACE]=n[i.PERCENT]}return u.push(n),s.push(o),o.style.opacity=0,o.style.backgroundColor=n.color,o.classList.add("item-"+n[i.TYPE]),this.setOptionValue(i.COLOR_ID,n[i.COLOR_ID],t),this.setOptionValue(i.ALIGN,n[i.ALIGN],t),this.setOptionValue(i.POSITION,n[i.POSITION],t),this.setOptionValue(i.PERCENT,n[i.PERCENT],t),!0};this.removeItem=function(n){var t=a(n),i=s[t];return i!=null?(i.parentNode.removeChild(i),u.splice(t,1),s.splice(t,1),!0):!1};this.removeAll=function(){return f?(f.innerHTML="",u=[],s=[],!0):!1};this.getMaxValue=function(){return c};this.setMaxValue=function(n){return c!=n&&n&&(l=100/n,c=n),l};this.getExValue=function(n){n=n||"first";return b[n]||0};this.getPercentByValue=function(n,t,i){i&&i!=this.getMaxValue()&&this.setMaxValue(i);n<0&&(n=0);n>this.getMaxValue()&&(n=this.getMaxValue());t=t||"first";b[t]=n;var r=i?n*this.getMaxValue(i):n*l;return parseInt(r)};this.getOptionValue=function(n,t){var i=a(t);return u[i][n]};this.setOptionValue=function(n,t,e){var v=a(e),c=s[v],o=u[v],l;switch(n){case i.ITEM_ID:return!1;case i.TYPE:return!1;case i.PERCENT:l=this;setTimeout(function(){t=parseInt(t)||0;switch(o[i.TYPE]){case r.TYPE.BAR:t=nt(t,v);c.style.width=t+"%";o[i.PERCENT]=t;break;case r.TYPE.LINE:l.setOptionValue(i.SPACE,t,e)}var n=t==0?0:o[i.OPACITY];c.style.opacity=n;setTimeout(function(){f.dispatchEvent(new CustomEvent(h.CHANGED,{detail:{itemID:e,me:l}}));switch(t){case 0:f.dispatchEvent(new CustomEvent(h.STARTING,{detail:{itemID:e,me:l}}));break;case 100:f.dispatchEvent(new CustomEvent(h.COMPLETED,{detail:{itemID:e,me:l}}))}},240)},10);break;case i.COLOR_ID:c.classList.remove(o[i.COLOR_ID]);c.classList.add(t);o[i.COLOR_ID]=t;break;case i.OPACITY:o[i.PERCENT]&&(c.style.opacity=t);o[i.OPACITY]=t;break;case i.ALIGN:c.style.cssFloat=t;o[i.ALIGN]=t;o[i.POSITION]==r.POSITION.ABSOLUTE&&this.setOptionValue(i.SPACE,o[i.SPACE],e);break;case i.SPACE:o[i.TYPE]==r.TYPE.LINE&&(t<0&&(t=0),t>100&&(t=100),o[i.PERCENT]=t);o[i.POSITION]!=r.POSITION.ABSOLUTE&&this.setOptionValue(i.POSITION,r.POSITION.ABSOLUTE,e);c.style.left="";c.style.right="";c.style[o[i.ALIGN]]=t+"%";o[i.SPACE]=t;o[i.TYPE]==r.TYPE.BAR&&this.setOptionValue(i.PERCENT,o[i.PERCENT],e);break;case i.POSITION:switch(o[i.TYPE]){case r.TYPE.BAR:t==r.POSITION.RELATIVE&&(c.style.left="",c.style.right="",o[i.SPACE]=0);c.style.position=t;o[i.POSITION]=t;break;case r.TYPE.LINE:t=r.POSITION.ABSOLUTE;c.style.position=t;o[i.POSITION]=t}}return!0};this.getPercent=function(n){return this.getOptionValue(i.PERCENT,n)};this.setPercent=function(n,t){return this.setOptionValue(i.PERCENT,n,t)};this.initialMode=function(n){if(n){this.removeAll();this.setPercent(25);this.setOptionValue(i.COLOR_ID,r.COLOR_ID.WHITE);var t=this;setTimeout(function(){k()},50)}else clearTimeout(_initialModeTimer),this.removeAll()};g()}ProgressBar.OPTION_NAME={};ProgressBar.OPTION_NAME.ITEM_ID="itemID";ProgressBar.OPTION_NAME.TYPE="type";ProgressBar.OPTION_NAME.PERCENT="percent";ProgressBar.OPTION_NAME.COLOR_ID="colorID";ProgressBar.OPTION_NAME.OPACITY="opacity";ProgressBar.OPTION_NAME.ALIGN="align";ProgressBar.OPTION_NAME.SPACE="space";ProgressBar.OPTION_NAME.POSITION="position";ProgressBar.OPTION_VALUE={};ProgressBar.OPTION_VALUE.COLOR_ID={};ProgressBar.OPTION_VALUE.COLOR_ID.BLUE="blue";ProgressBar.OPTION_VALUE.COLOR_ID.GREEN="green";ProgressBar.OPTION_VALUE.COLOR_ID.YELLOW="yellow";ProgressBar.OPTION_VALUE.COLOR_ID.ORANGE="orange";ProgressBar.OPTION_VALUE.COLOR_ID.RED="red";ProgressBar.OPTION_VALUE.COLOR_ID.WHITE="white";ProgressBar.OPTION_VALUE.COLOR_ID.BLACK="black";ProgressBar.OPTION_VALUE.COLOR_ID.CUSTOM="custom";ProgressBar.OPTION_VALUE.TYPE={};ProgressBar.OPTION_VALUE.TYPE.BAR="bar";ProgressBar.OPTION_VALUE.TYPE.LINE="line";ProgressBar.OPTION_VALUE.TYPE.TEXT="text";ProgressBar.OPTION_VALUE.ALIGN={};ProgressBar.OPTION_VALUE.ALIGN.LEFT="left";ProgressBar.OPTION_VALUE.ALIGN.RIGHT="right";ProgressBar.OPTION_VALUE.POSITION={};ProgressBar.OPTION_VALUE.POSITION.ABSOLUTE="absolute";ProgressBar.OPTION_VALUE.POSITION.RELATIVE="relative";ProgressBar.DEFAULT_VALUE={};ProgressBar.DEFAULT_VALUE.WIDTH="100px";ProgressBar.DEFAULT_VALUE.HEIGHT="6px";ProgressBar.DEFAULT_VALUE.TYPE=ProgressBar.OPTION_VALUE.TYPE.BAR;ProgressBar.DEFAULT_VALUE.PERCENT=0;ProgressBar.DEFAULT_VALUE.COLOR_ID=ProgressBar.OPTION_VALUE.COLOR_ID.BLUE;ProgressBar.DEFAULT_VALUE.OPACITY=1;ProgressBar.DEFAULT_VALUE.ALIGN="left";ProgressBar.DEFAULT_VALUE.SPACE=0;ProgressBar.DEFAULT_VALUE.POSITION="relative";ProgressBar.DEFAULT_VALUE.LINE_COLOR_ID=ProgressBar.OPTION_VALUE.COLOR_ID.RED;ProgressBar.DEFAULT_VALUE.LINE_OPACITY=.5;ProgressBar.EVENT={};ProgressBar.EVENT.STARTING="starting";ProgressBar.EVENT.CHANGED="changed";ProgressBar.EVENT.COMPLETED="completed";ProgressBar.getVersion=function(){return"1.2"};
/*
//# sourceMappingURL=progressbar.min.js.map
*/